if not getgenv then return end

getgenv().BlackAir = getgenv().BlackAir or {}
getgenv().BlackAir.AutoExec = getgenv().BlackAir.AutoExec or false

local TeleportService = game:GetService("TeleportService")
local TRASH_LINK = "https://raw.githubusercontent.com/TeamB-dot/main/refs/heads/main/main"

-- AutoExec speichern
local function setQueued(val)
    pcall(function()
        writefile("blackair_queue.txt", tostring(val))
    end)
end

local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()
local Window = Rayfield:CreateWindow({
   Name = "BlackAir Auto Farm",
   LoadingTitle = "BlackAir Auto Farm",
   LoadingSubtitle = "TrashCan Automation",
})

local Tab = Window:CreateTab("Farm", 4483362458)

Tab:CreateToggle({
    Name = "AutoExec",
    CurrentValue = getgenv().BlackAir.AutoExec,
    Callback = function(v)
        getgenv().BlackAir.AutoExec = v
        setQueued(v)
    end,
})

Tab:CreateButton({
    Name = "Start Trashcan Farm",
    Callback = function()
        loadstring(game:HttpGet(https://raw.githubusercontent.com/TeamB-dot/main/refs/heads/main/main))()
    end
})

Tab:CreateButton({
    Name = "Server Hop",
    Callback = function()
        if getgenv().BlackAir.AutoExec then
            setQueued(true)
        end
        TeleportService:Teleport(game.PlaceId)
    end
})
